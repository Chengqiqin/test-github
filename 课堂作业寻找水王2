#include<iostream>
using namespace std;

int main()
{
    int a[1000000],length=-1,i;//a[1000000]用来存储每个帖子的作者ID，length用来记录帖子的数量
    int b[3][2];
    bool flag=false;
    //b[i][0]用来记录当前认为的“水王”的ID
    //b[i][1]用来记录记录当前认为的“水王”相对于其他用户连续出现多出来的次数

    //用于判断输入的数是否符合情况
    while(length<1)
    {
        cout<<"请输入帖子的数量："<<endl;
        cin>>length;
    }

    cout<<"请依次输入每个帖子的作者ID："<<endl;
    for(i=0;i<length;i++)
    {
        cin>>a[i];
    } 
    //初始化第一个水王号
    b[0][0]=a[0];
    b[0][1]=1;
    //初始第二个水王号
    for(i=1;i<length;i++)
    {
        if(a[i]!=b[0][0])
        {
            b[1][0]=a[i];
            b[1][1]=1;
            break;
        }
        else
        {
            b[0][1]++;
        }
    }
    i++;
    //初始第三个水王号
    for(;i<length;i++)
    {
        if(a[i]!=b[0][0]&&a[i]!=b[1][0])
        {
            b[2][0]=a[i];
            b[2][1]=1;
            flag=true;
            break;
        }
        else if(a[i]==b[0][0])
        {
            b[0][1]++;
        }
        else
        {
            b[1][1]++;
        }
    }
    i++;
    //判断输入的ID至少有三个不同的ID号
    if(flag==false)
    {
        cout<<"输入的ID号不符合条件！！！！"<<endl;
    }
    else
    {
        //根据三个水王号的ID数均超过四分之一可以知道只要非水王号出现一次，水王号ID必定都对应会出现一次
        //目前判断为水王号的ID出现则对应次数加一，非水王号出现一次则目前判断为水王号出现次数的均减一
        for(;i<length;i++)
        {
            if(b[0][1]==0&&a[i]!=b[1][0]&&a[i]!=b[2][0])
            {
                b[0][0]=a[i];
                b[0][1]++;
            }
            else if(b[1][1]==0&&a[i]!=b[0][0]&&a[i]!=b[2][0])
            {
                b[1][0]=a[i];
                b[1][1]++;
            }
            else if(b[2][1]==0&&a[i]!=b[1][0]&&a[i]!=b[0][0])
            {
                b[2][0]=a[i];
                b[2][1]++;
            }
            else if(a[i]==b[0][0])
            {
                b[0][1]++;
            }
                        
            else if(a[i]==b[1][0])
            {
                b[1][1]++;
            }
            else if(a[i]==b[2][0])
            {
                b[2][1]++;
            }    
            else if(a[i]!=b[0][0]&&a[i]!=b[1][0]&&a[i]!=b[2][0])
            {
                b[0][1]--;
                b[1][1]--;
                b[2][1]--;
            } 
        }
        //避免出现误将不符合条件的情况输出
        if(b[0][1]==0||b[1][1]==0||b[2][1]==0)
        {
            cout<<"输入的ID号不符合条件！！！！"<<endl;
        }
        else
        {
            if(max(max(b[0][1],b[1][1]),max(b[1][1],b[2][1]))-min(min(b[0][1],b[1][1]),min(b[1][1],b[2][1]))<(length/2-length/4-1))
            {
                
                cout<<"第一个水王号为："<<b[0][0]<<endl;
                cout<<"第二个水王号为："<<b[1][0]<<endl;
                cout<<"第三个水王号为："<<b[2][0]<<endl;
            }
            else
            {
                cout<<"输入的ID号不符合条件！！！！"<<endl;
            }
        }
    }
    return 0;
}
